{"ts":1369742538254,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"package com.mb.stats.feature.spec.base\n\nimport com.popcornteam.restclient.RestClient\nimport com.popcornteam.restclient.factory.HttpClientFactory\nimport geb.spock.GebSpec\nimport net.xelnaga.httpimposter.remote.HttpImposterRemote\nimport org.apache.http.client.HttpClient\n\nclass ApiSpec extends GebSpec {\n\n    HttpImposterRemote imposterRemote\n\n    HttpClientFactory httpClientFactory\n    HttpClient httpClient\n\n    RestClient jsonClient\n\n    void setup() {\n\n        httpClientFactory = new HttpClientFactory()\n        httpClient = httpClientFactory.makeThreadSafeHttpClient(2)\n\n        imposterRemote = new HttpImposterRemote(\"${baseUrl}fake\")\n        imposterRemote.reset()\n\n        jsonClient = new RestClient(baseUrl, [], httpClient)\n\n        injectBaseUrlIntoFixtures()\n    }\n\n    private void injectBaseUrlIntoFixtures() {\n\n        def fixturesWithBaseUrl = properties.findAll { it.value instanceof UsesBaseUrlTag }.collect { it.value }\n\n        if (fixturesWithBaseUrl) {\n            fixturesWithBaseUrl*.baseUrl = baseUrl\n        }\n    }\n\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":1046}]],"length":1046}
